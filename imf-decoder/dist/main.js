(()=>{"use strict";var e={413:(e,t,n)=>{e.exports=n.p+"de3ef5aefaa77740b6f4.wasm"},218:(e,t,n)=>{let r;n.r(t),n.d(t,{IMFDecoder:()=>O,Tensor:()=>z,default:()=>V,initSync:()=>j,start:()=>M});const o=new Array(128).fill(void 0);function a(e){return o[e]}o.push(void 0,null,!0,!1);let i=o.length;function _(e){const t=a(e);return function(e){e<132||(o[e]=i,i=e)}(e),t}const c="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&c.decode();let b=null;function f(){return null!==b&&0!==b.byteLength||(b=new Uint8Array(r.memory.buffer)),b}function s(e,t){return e>>>=0,c.decode(f().subarray(e,e+t))}function d(e){i===o.length&&o.push(o.length+1);const t=i;return i=o[t],o[t]=e,t}function u(e){return null==e}let g=null;function w(){return(null===g||!0===g.buffer.detached||void 0===g.buffer.detached&&g.buffer!==r.memory.buffer)&&(g=new DataView(r.memory.buffer)),g}let l=0;const m="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},p="function"==typeof m.encodeInto?function(e,t){return m.encodeInto(e,t)}:function(e,t){const n=m.encode(e);return t.set(n),{read:e.length,written:n.length}};function h(e,t,n){if(void 0===n){const n=m.encode(e),r=t(n.length,1)>>>0;return f().subarray(r,r+n.length).set(n),l=n.length,r}let r=e.length,o=t(r,1)>>>0;const a=f();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;a[o+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),o=n(o,r,r=i+3*e.length,1)>>>0;const t=f().subarray(o+i,o+r);i+=p(e,t).written,o=n(o,r,i,1)>>>0}return l=i,o}function y(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=y(e[0]));for(let r=1;r<t;r++)n+=", "+y(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}const x="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>{r.__wbindgen_export_2.get(e.dtor)(e.a,e.b)}));function v(e,t,n,o){const a={a:e,b:t,cnt:1,dtor:n},i=(...e)=>{a.cnt++;const t=a.a;a.a=0;try{return o(t,a.b,...e)}finally{0==--a.cnt?(r.__wbindgen_export_2.get(a.dtor)(t,a.b),x.unregister(a)):a.a=t}};return i.original=a,x.register(i,a,a),i}function S(e,t){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h94a8a345006a64ac(e,t)}function I(e,t,n){r._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h4edbb680f56410f3(e,t,d(n))}let D=null;function A(){return null!==D&&0!==D.byteLength||(D=new Float32Array(r.memory.buffer)),D}let P=null;function F(){return null!==P&&0!==P.byteLength||(P=new Uint32Array(r.memory.buffer)),P}function k(e,t){const n=t(4*e.length,4)>>>0;return F().set(e,n/4),l=e.length,n}function E(e,t){return e>>>=0,A().subarray(e/4,e/4+t)}function M(){r.start()}let R=null;function T(e,t){return e>>>=0,(null!==R&&0!==R.byteLength||(R=new Int32Array(r.memory.buffer)),R).subarray(e/4,e/4+t)}function B(e,t){try{return e.apply(this,t)}catch(e){r.__wbindgen_exn_store(d(e))}}const L="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>r.__wbg_imfdecoder_free(e>>>0,1)));class O{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,L.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_imfdecoder_free(e,0)}constructor(e,t){try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.imfdecoder_new(a,e,t);var n=w().getInt32(a+0,!0),o=w().getInt32(a+4,!0);if(w().getInt32(a+8,!0))throw _(o);return this.__wbg_ptr=n>>>0,L.register(this,this.__wbg_ptr,this),this}finally{r.__wbindgen_add_to_stack_pointer(16)}}initialize_render_context(e){return _(r.imfdecoder_initialize_render_context(this.__wbg_ptr,d(e)))}get_capabilities(){return _(r.imfdecoder_get_capabilities(this.__wbg_ptr))}test(){let e,t;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.imfdecoder_test(a,this.__wbg_ptr);var n=w().getInt32(a+0,!0),o=w().getInt32(a+4,!0);return e=n,t=o,s(n,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t,1)}}get_status(){return _(r.imfdecoder_get_status(this.__wbg_ptr))}start_player_loop(){try{const t=r.__wbindgen_add_to_stack_pointer(-16);r.imfdecoder_start_player_loop(t,this.__wbg_ptr);var e=w().getInt32(t+0,!0);if(w().getInt32(t+4,!0))throw _(e)}finally{r.__wbindgen_add_to_stack_pointer(16)}}stop_player_loop(){r.imfdecoder_stop_player_loop(this.__wbg_ptr)}get diagnostic_mode(){return 0!==r.imfdecoder_diagnostic_mode(this.__wbg_ptr)}set diagnostic_mode(e){r.imfdecoder_set_diagnostic_mode(this.__wbg_ptr,e)}set_reference_data(e){let t,n;try{const u=r.__wbindgen_add_to_stack_pointer(-16);r.imfdecoder_set_reference_data(u,this.__wbg_ptr,d(e));var o=w().getInt32(u+0,!0),a=w().getInt32(u+4,!0),i=w().getInt32(u+8,!0),c=w().getInt32(u+12,!0),b=o,f=a;if(c)throw b=0,f=0,_(i);return t=b,n=f,s(b,f)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n,1)}}process_tokens(e){let t,n;try{const u=r.__wbindgen_add_to_stack_pointer(-16);r.imfdecoder_process_tokens(u,this.__wbg_ptr,d(e));var o=w().getInt32(u+0,!0),a=w().getInt32(u+4,!0),i=w().getInt32(u+8,!0),c=w().getInt32(u+12,!0),b=o,f=a;if(c)throw b=0,f=0,_(i);return t=b,n=f,s(b,f)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n,1)}}process_batch(){let e,t;try{const f=r.__wbindgen_add_to_stack_pointer(-16);r.imfdecoder_process_batch(f,this.__wbg_ptr);var n=w().getInt32(f+0,!0),o=w().getInt32(f+4,!0),a=w().getInt32(f+8,!0),i=w().getInt32(f+12,!0),c=n,b=o;if(i)throw c=0,b=0,_(a);return e=c,t=b,s(c,b)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t,1)}}get_reference_status(){let e,t;try{const a=r.__wbindgen_add_to_stack_pointer(-16);r.imfdecoder_get_reference_status(a,this.__wbg_ptr);var n=w().getInt32(a+0,!0),o=w().getInt32(a+4,!0);return e=n,t=o,s(n,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t,1)}}}const W="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>r.__wbg_tensor_free(e>>>0,1)));class z{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_tensor_free(e,0)}constructor(e,t){const n=function(e,t){const n=t(4*e.length,4)>>>0;return A().set(e,n/4),l=e.length,n}(e,r.__wbindgen_malloc),o=l,a=k(t,r.__wbindgen_malloc),i=l,_=r.tensor_new(n,o,a,i);return this.__wbg_ptr=_>>>0,W.register(this,this.__wbg_ptr,this),this}reshape(e){const t=k(e,r.__wbindgen_malloc),n=l;r.tensor_reshape(this.__wbg_ptr,t,n)}get_data(){try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.tensor_get_data(o,this.__wbg_ptr);var e=w().getInt32(o+0,!0),t=w().getInt32(o+4,!0),n=E(e,t).slice();return r.__wbindgen_free(e,4*t,4),n}finally{r.__wbindgen_add_to_stack_pointer(16)}}}function C(){const e={wbg:{}};return e.wbg.__wbindgen_object_drop_ref=function(e){_(e)},e.wbg.__wbindgen_cb_drop=function(e){const t=_(e).original;return 1==t.cnt--&&(t.a=0,!0)},e.wbg.__wbindgen_string_new=function(e,t){return d(s(e,t))},e.wbg.__wbindgen_number_new=function(e){return d(e)},e.wbg.__wbindgen_object_clone_ref=function(e){return d(a(e))},e.wbg.__wbindgen_number_get=function(e,t){const n=a(t),r="number"==typeof n?n:void 0;w().setFloat64(e+8,u(r)?0:r,!0),w().setInt32(e+0,!u(r),!0)},e.wbg.__wbindgen_is_bigint=function(e){return"bigint"==typeof a(e)},e.wbg.__wbindgen_bigint_from_u64=function(e){return d(BigInt.asUintN(64,e))},e.wbg.__wbindgen_jsval_eq=function(e,t){return a(e)===a(t)},e.wbg.__wbindgen_error_new=function(e,t){return d(new Error(s(e,t)))},e.wbg.__wbindgen_is_object=function(e){const t=a(e);return"object"==typeof t&&null!==t},e.wbg.__wbindgen_is_undefined=function(e){return void 0===a(e)},e.wbg.__wbindgen_in=function(e,t){return a(e)in a(t)},e.wbg.__wbindgen_jsval_loose_eq=function(e,t){return a(e)==a(t)},e.wbg.__wbindgen_boolean_get=function(e){const t=a(e);return"boolean"==typeof t?t?1:0:2},e.wbg.__wbindgen_string_get=function(e,t){const n=a(t),o="string"==typeof n?n:void 0;var i=u(o)?0:h(o,r.__wbindgen_malloc,r.__wbindgen_realloc),_=l;w().setInt32(e+4,_,!0),w().setInt32(e+0,i,!0)},e.wbg.__wbg_getwithrefkey_5e6d9547403deab8=function(e,t){return d(a(e)[a(t)])},e.wbg.__wbg_queueMicrotask_848aa4969108a57e=function(e){return d(a(e).queueMicrotask)},e.wbg.__wbindgen_is_function=function(e){return"function"==typeof a(e)},e.wbg.__wbg_queueMicrotask_c5419c06eab41e73=function(e){queueMicrotask(a(e))},e.wbg.__wbg_new_abda76e883ba8a5f=function(){return d(new Error)},e.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=h(a(t).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l;w().setInt32(e+4,o,!0),w().setInt32(e+0,n,!0)},e.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let n,o;try{n=e,o=t,console.error(s(e,t))}finally{r.__wbindgen_free(n,o,1)}},e.wbg.__wbg_instanceof_WebGl2RenderingContext_8dbe5170d8fdea28=function(e){let t;try{t=a(e)instanceof WebGL2RenderingContext}catch(e){t=!1}return t},e.wbg.__wbg_beginQuery_b8e402f471b94597=function(e,t,n){a(e).beginQuery(t>>>0,a(n))},e.wbg.__wbg_bindBufferRange_68e6d902beca2cf8=function(e,t,n,r,o,i){a(e).bindBufferRange(t>>>0,n>>>0,a(r),o,i)},e.wbg.__wbg_bindSampler_e6594b2914f5003c=function(e,t,n){a(e).bindSampler(t>>>0,a(n))},e.wbg.__wbg_bindVertexArray_9971ca458d8940ea=function(e,t){a(e).bindVertexArray(a(t))},e.wbg.__wbg_blitFramebuffer_bd01a21856ea0fbc=function(e,t,n,r,o,i,_,c,b,f,s){a(e).blitFramebuffer(t,n,r,o,i,_,c,b,f>>>0,s>>>0)},e.wbg.__wbg_bufferData_d29d96e444b898a8=function(e,t,n,r){a(e).bufferData(t>>>0,n,r>>>0)},e.wbg.__wbg_bufferData_97b16c4aedab785a=function(e,t,n,r){a(e).bufferData(t>>>0,a(n),r>>>0)},e.wbg.__wbg_bufferSubData_0c11461edf66f156=function(e,t,n,r){a(e).bufferSubData(t>>>0,n,a(r))},e.wbg.__wbg_clearBufferfi_85af50b0f969c9e9=function(e,t,n,r,o){a(e).clearBufferfi(t>>>0,n,r,o)},e.wbg.__wbg_clearBufferfv_f66e3443cdea656a=function(e,t,n,r,o){a(e).clearBufferfv(t>>>0,n,E(r,o))},e.wbg.__wbg_clearBufferiv_5636255b7ffdf249=function(e,t,n,r,o){a(e).clearBufferiv(t>>>0,n,T(r,o))},e.wbg.__wbg_clearBufferuiv_8a5714476351aebf=function(e,t,n,r,o){var i,_;a(e).clearBufferuiv(t>>>0,n,(i=r,_=o,i>>>=0,F().subarray(i/4,i/4+_)))},e.wbg.__wbg_clientWaitSync_d784ff3d0b4d725e=function(e,t,n,r){return a(e).clientWaitSync(a(t),n>>>0,r>>>0)},e.wbg.__wbg_compressedTexSubImage2D_568fabb4a468221c=function(e,t,n,r,o,i,_,c,b,f){a(e).compressedTexSubImage2D(t>>>0,n,r,o,i,_,c>>>0,b,f)},e.wbg.__wbg_compressedTexSubImage2D_a6583905f3a9480f=function(e,t,n,r,o,i,_,c,b){a(e).compressedTexSubImage2D(t>>>0,n,r,o,i,_,c>>>0,a(b))},e.wbg.__wbg_compressedTexSubImage3D_a61af2271039d4bf=function(e,t,n,r,o,i,_,c,b,f,s,d){a(e).compressedTexSubImage3D(t>>>0,n,r,o,i,_,c,b,f>>>0,s,d)},e.wbg.__wbg_compressedTexSubImage3D_a73e16b704a1d1d5=function(e,t,n,r,o,i,_,c,b,f,s){a(e).compressedTexSubImage3D(t>>>0,n,r,o,i,_,c,b,f>>>0,a(s))},e.wbg.__wbg_copyBufferSubData_67fcdafd4e5ee17e=function(e,t,n,r,o,i){a(e).copyBufferSubData(t>>>0,n>>>0,r,o,i)},e.wbg.__wbg_copyTexSubImage3D_8da44b12589b4f99=function(e,t,n,r,o,i,_,c,b,f){a(e).copyTexSubImage3D(t>>>0,n,r,o,i,_,c,b,f)},e.wbg.__wbg_createQuery_0795eefd252e80f8=function(e){const t=a(e).createQuery();return u(t)?0:d(t)},e.wbg.__wbg_createSampler_04ad5e8ab76483fb=function(e){const t=a(e).createSampler();return u(t)?0:d(t)},e.wbg.__wbg_createVertexArray_ec08b54b9f8c74ea=function(e){const t=a(e).createVertexArray();return u(t)?0:d(t)},e.wbg.__wbg_deleteQuery_e5827ae2abdd5cc5=function(e,t){a(e).deleteQuery(a(t))},e.wbg.__wbg_deleteSampler_3edc3465d87c6e64=function(e,t){a(e).deleteSampler(a(t))},e.wbg.__wbg_deleteSync_7a5ecbff89c2476b=function(e,t){a(e).deleteSync(a(t))},e.wbg.__wbg_deleteVertexArray_112dd9bcd72ec608=function(e,t){a(e).deleteVertexArray(a(t))},e.wbg.__wbg_drawArraysInstanced_58629707b4b330ef=function(e,t,n,r,o){a(e).drawArraysInstanced(t>>>0,n,r,o)},e.wbg.__wbg_drawBuffers_c5aeef68633961f5=function(e,t){a(e).drawBuffers(a(t))},e.wbg.__wbg_drawElementsInstanced_6bb33869244a4898=function(e,t,n,r,o,i){a(e).drawElementsInstanced(t>>>0,n,r>>>0,o,i)},e.wbg.__wbg_endQuery_0abcffd7cf85f99b=function(e,t){a(e).endQuery(t>>>0)},e.wbg.__wbg_fenceSync_e39c9079309664a2=function(e,t,n){const r=a(e).fenceSync(t>>>0,n>>>0);return u(r)?0:d(r)},e.wbg.__wbg_framebufferTextureLayer_553e4303fd9ac85d=function(e,t,n,r,o,i){a(e).framebufferTextureLayer(t>>>0,n>>>0,a(r),o,i)},e.wbg.__wbg_getBufferSubData_573ee8fa19051981=function(e,t,n,r){a(e).getBufferSubData(t>>>0,n,a(r))},e.wbg.__wbg_getIndexedParameter_c046ce18fdfe2dd2=function(){return B((function(e,t,n){return d(a(e).getIndexedParameter(t>>>0,n>>>0))}),arguments)},e.wbg.__wbg_getQueryParameter_7a26f48a8e221c3e=function(e,t,n){return d(a(e).getQueryParameter(a(t),n>>>0))},e.wbg.__wbg_getSyncParameter_c832b09cdf83e9a1=function(e,t,n){return d(a(e).getSyncParameter(a(t),n>>>0))},e.wbg.__wbg_getUniformBlockIndex_58495b7e010514a3=function(e,t,n,r){return a(e).getUniformBlockIndex(a(t),s(n,r))},e.wbg.__wbg_invalidateFramebuffer_85aacd2d6706f92c=function(){return B((function(e,t,n){a(e).invalidateFramebuffer(t>>>0,a(n))}),arguments)},e.wbg.__wbg_readBuffer_3be142023c4594fe=function(e,t){a(e).readBuffer(t>>>0)},e.wbg.__wbg_readPixels_f1573092ee7b3fc7=function(){return B((function(e,t,n,r,o,i,_,c){a(e).readPixels(t,n,r,o,i>>>0,_>>>0,a(c))}),arguments)},e.wbg.__wbg_readPixels_9a37d680e1902966=function(){return B((function(e,t,n,r,o,i,_,c){a(e).readPixels(t,n,r,o,i>>>0,_>>>0,c)}),arguments)},e.wbg.__wbg_renderbufferStorageMultisample_fe52b83cbe6a1263=function(e,t,n,r,o,i){a(e).renderbufferStorageMultisample(t>>>0,n,r>>>0,o,i)},e.wbg.__wbg_samplerParameterf_8e3f1f759df1f227=function(e,t,n,r){a(e).samplerParameterf(a(t),n>>>0,r)},e.wbg.__wbg_samplerParameteri_bba8403da2e67783=function(e,t,n,r){a(e).samplerParameteri(a(t),n>>>0,r)},e.wbg.__wbg_texStorage2D_d7ea0bec2ad1d754=function(e,t,n,r,o,i){a(e).texStorage2D(t>>>0,n,r>>>0,o,i)},e.wbg.__wbg_texStorage3D_c78e9d392c9afef5=function(e,t,n,r,o,i,_){a(e).texStorage3D(t>>>0,n,r>>>0,o,i,_)},e.wbg.__wbg_texSubImage2D_97bed542c038dfb5=function(){return B((function(e,t,n,r,o,i,_,c,b,f){a(e).texSubImage2D(t>>>0,n,r,o,i,_,c>>>0,b>>>0,a(f))}),arguments)},e.wbg.__wbg_texSubImage2D_74255449b4229fd1=function(){return B((function(e,t,n,r,o,i,_,c,b,f){a(e).texSubImage2D(t>>>0,n,r,o,i,_,c>>>0,b>>>0,f)}),arguments)},e.wbg.__wbg_texSubImage2D_a70ed16617b934eb=function(){return B((function(e,t,n,r,o,i,_,c,b,f){a(e).texSubImage2D(t>>>0,n,r,o,i,_,c>>>0,b>>>0,a(f))}),arguments)},e.wbg.__wbg_texSubImage2D_fcc3db78c8c4dfd4=function(){return B((function(e,t,n,r,o,i,_,c,b,f){a(e).texSubImage2D(t>>>0,n,r,o,i,_,c>>>0,b>>>0,a(f))}),arguments)},e.wbg.__wbg_texSubImage2D_e5ec0c323060b567=function(){return B((function(e,t,n,r,o,i,_,c,b,f){a(e).texSubImage2D(t>>>0,n,r,o,i,_,c>>>0,b>>>0,a(f))}),arguments)},e.wbg.__wbg_texSubImage3D_b1219aeae15b17e7=function(){return B((function(e,t,n,r,o,i,_,c,b,f,s,d){a(e).texSubImage3D(t>>>0,n,r,o,i,_,c,b,f>>>0,s>>>0,d)}),arguments)},e.wbg.__wbg_texSubImage3D_fa9088aa90bc643e=function(){return B((function(e,t,n,r,o,i,_,c,b,f,s,d){a(e).texSubImage3D(t>>>0,n,r,o,i,_,c,b,f>>>0,s>>>0,a(d))}),arguments)},e.wbg.__wbg_texSubImage3D_872ac7e01fe6afdb=function(){return B((function(e,t,n,r,o,i,_,c,b,f,s,d){a(e).texSubImage3D(t>>>0,n,r,o,i,_,c,b,f>>>0,s>>>0,a(d))}),arguments)},e.wbg.__wbg_texSubImage3D_dbf08e66ae19c720=function(){return B((function(e,t,n,r,o,i,_,c,b,f,s,d){a(e).texSubImage3D(t>>>0,n,r,o,i,_,c,b,f>>>0,s>>>0,a(d))}),arguments)},e.wbg.__wbg_texSubImage3D_772730c836caeb64=function(){return B((function(e,t,n,r,o,i,_,c,b,f,s,d){a(e).texSubImage3D(t>>>0,n,r,o,i,_,c,b,f>>>0,s>>>0,a(d))}),arguments)},e.wbg.__wbg_uniform2fv_ee34c52d95d497de=function(e,t,n,r){a(e).uniform2fv(a(t),E(n,r))},e.wbg.__wbg_uniform2iv_a3a3a2d9dd160669=function(e,t,n,r){a(e).uniform2iv(a(t),T(n,r))},e.wbg.__wbg_uniform3fv_560886b2a558fa83=function(e,t,n,r){a(e).uniform3fv(a(t),E(n,r))},e.wbg.__wbg_uniform3iv_dd1472a6dabcbacf=function(e,t,n,r){a(e).uniform3iv(a(t),T(n,r))},e.wbg.__wbg_uniform4fv_b355da0bf0a80967=function(e,t,n,r){a(e).uniform4fv(a(t),E(n,r))},e.wbg.__wbg_uniform4iv_5eb5f6d6b8f7b5eb=function(e,t,n,r){a(e).uniform4iv(a(t),T(n,r))},e.wbg.__wbg_uniformBlockBinding_7ce0de2472517231=function(e,t,n,r){a(e).uniformBlockBinding(a(t),n>>>0,r>>>0)},e.wbg.__wbg_uniformMatrix2fv_65856c74b9e6fe59=function(e,t,n,r,o){a(e).uniformMatrix2fv(a(t),0!==n,E(r,o))},e.wbg.__wbg_uniformMatrix3fv_4409fe9c61d17bae=function(e,t,n,r,o){a(e).uniformMatrix3fv(a(t),0!==n,E(r,o))},e.wbg.__wbg_uniformMatrix4fv_5bf1d4fcb9b38046=function(e,t,n,r,o){a(e).uniformMatrix4fv(a(t),0!==n,E(r,o))},e.wbg.__wbg_vertexAttribDivisor_657bb3e5aaa0a9d0=function(e,t,n){a(e).vertexAttribDivisor(t>>>0,n>>>0)},e.wbg.__wbg_vertexAttribIPointer_9ce0758a819f9ebd=function(e,t,n,r,o,i){a(e).vertexAttribIPointer(t>>>0,n,r>>>0,o,i)},e.wbg.__wbg_activeTexture_a2e9931456fe92b4=function(e,t){a(e).activeTexture(t>>>0)},e.wbg.__wbg_attachShader_299671ccaa78592c=function(e,t,n){a(e).attachShader(a(t),a(n))},e.wbg.__wbg_bindBuffer_70e5a7ef4920142a=function(e,t,n){a(e).bindBuffer(t>>>0,a(n))},e.wbg.__wbg_bindFramebuffer_21286675ec02dcb0=function(e,t,n){a(e).bindFramebuffer(t>>>0,a(n))},e.wbg.__wbg_bindRenderbuffer_b5a39364d07f8f0e=function(e,t,n){a(e).bindRenderbuffer(t>>>0,a(n))},e.wbg.__wbg_bindTexture_78210066cfdda8ac=function(e,t,n){a(e).bindTexture(t>>>0,a(n))},e.wbg.__wbg_blendColor_82a78d74caf24e36=function(e,t,n,r,o){a(e).blendColor(t,n,r,o)},e.wbg.__wbg_blendEquation_99ed9620b96c3390=function(e,t){a(e).blendEquation(t>>>0)},e.wbg.__wbg_blendEquationSeparate_f31b2648426dff95=function(e,t,n){a(e).blendEquationSeparate(t>>>0,n>>>0)},e.wbg.__wbg_blendFunc_fc7489df4b31e3ec=function(e,t,n){a(e).blendFunc(t>>>0,n>>>0)},e.wbg.__wbg_blendFuncSeparate_79ff089d1b7d8fdd=function(e,t,n,r,o){a(e).blendFuncSeparate(t>>>0,n>>>0,r>>>0,o>>>0)},e.wbg.__wbg_colorMask_88c579e312b0fdcf=function(e,t,n,r,o){a(e).colorMask(0!==t,0!==n,0!==r,0!==o)},e.wbg.__wbg_compileShader_9680f4f1d833586c=function(e,t){a(e).compileShader(a(t))},e.wbg.__wbg_copyTexSubImage2D_7150b4aa99c21fde=function(e,t,n,r,o,i,_,c,b){a(e).copyTexSubImage2D(t>>>0,n,r,o,i,_,c,b)},e.wbg.__wbg_createBuffer_478457cb9beff1a3=function(e){const t=a(e).createBuffer();return u(t)?0:d(t)},e.wbg.__wbg_createFramebuffer_ad461f789f313e65=function(e){const t=a(e).createFramebuffer();return u(t)?0:d(t)},e.wbg.__wbg_createProgram_48b8a105fd0cfb35=function(e){const t=a(e).createProgram();return u(t)?0:d(t)},e.wbg.__wbg_createRenderbuffer_fd9d446bba29f340=function(e){const t=a(e).createRenderbuffer();return u(t)?0:d(t)},e.wbg.__wbg_createShader_f956a5ec67a77964=function(e,t){const n=a(e).createShader(t>>>0);return u(n)?0:d(n)},e.wbg.__wbg_createTexture_3ebc81a77f42cd4b=function(e){const t=a(e).createTexture();return u(t)?0:d(t)},e.wbg.__wbg_cullFace_32ec426f9cf738ba=function(e,t){a(e).cullFace(t>>>0)},e.wbg.__wbg_deleteBuffer_4ab8b253a2ff7ec7=function(e,t){a(e).deleteBuffer(a(t))},e.wbg.__wbg_deleteFramebuffer_a7d2812b702a9416=function(e,t){a(e).deleteFramebuffer(a(t))},e.wbg.__wbg_deleteProgram_ef8d37545b8ab3ce=function(e,t){a(e).deleteProgram(a(t))},e.wbg.__wbg_deleteRenderbuffer_fe2288d56301005f=function(e,t){a(e).deleteRenderbuffer(a(t))},e.wbg.__wbg_deleteShader_c65ef8df50ff2e29=function(e,t){a(e).deleteShader(a(t))},e.wbg.__wbg_deleteTexture_05e26b0508f0589d=function(e,t){a(e).deleteTexture(a(t))},e.wbg.__wbg_depthFunc_7589bc6d5bb03a9b=function(e,t){a(e).depthFunc(t>>>0)},e.wbg.__wbg_depthMask_e4963468d5b609c0=function(e,t){a(e).depthMask(0!==t)},e.wbg.__wbg_depthRange_ee8b5b65dd5c7ea2=function(e,t,n){a(e).depthRange(t,n)},e.wbg.__wbg_disable_d0317155c2bda795=function(e,t){a(e).disable(t>>>0)},e.wbg.__wbg_disableVertexAttribArray_58aa0d2748ca82d4=function(e,t){a(e).disableVertexAttribArray(t>>>0)},e.wbg.__wbg_drawArrays_af53529e509d0c8b=function(e,t,n,r){a(e).drawArrays(t>>>0,n,r)},e.wbg.__wbg_enable_b73a997042de6e09=function(e,t){a(e).enable(t>>>0)},e.wbg.__wbg_enableVertexAttribArray_08b992ae13fe30a9=function(e,t){a(e).enableVertexAttribArray(t>>>0)},e.wbg.__wbg_framebufferRenderbuffer_b3aa0a942c6bdcc5=function(e,t,n,r,o){a(e).framebufferRenderbuffer(t>>>0,n>>>0,r>>>0,a(o))},e.wbg.__wbg_framebufferTexture2D_d190f9f327cc46ec=function(e,t,n,r,o,i){a(e).framebufferTexture2D(t>>>0,n>>>0,r>>>0,a(o),i)},e.wbg.__wbg_frontFace_2f9be9f6e61eab57=function(e,t){a(e).frontFace(t>>>0)},e.wbg.__wbg_getActiveUniform_38b1eec97abf0750=function(e,t,n){const r=a(e).getActiveUniform(a(t),n>>>0);return u(r)?0:d(r)},e.wbg.__wbg_getExtension_811520f1db50ca11=function(){return B((function(e,t,n){const r=a(e).getExtension(s(t,n));return u(r)?0:d(r)}),arguments)},e.wbg.__wbg_getParameter_1b7c85c782ee0a5e=function(){return B((function(e,t){return d(a(e).getParameter(t>>>0))}),arguments)},e.wbg.__wbg_getProgramInfoLog_16c69289b6a9c98e=function(e,t,n){const o=a(t).getProgramInfoLog(a(n));var i=u(o)?0:h(o,r.__wbindgen_malloc,r.__wbindgen_realloc),_=l;w().setInt32(e+4,_,!0),w().setInt32(e+0,i,!0)},e.wbg.__wbg_getProgramParameter_4c981ddc3b62dda8=function(e,t,n){return d(a(e).getProgramParameter(a(t),n>>>0))},e.wbg.__wbg_getShaderInfoLog_afb2baaac4baaff5=function(e,t,n){const o=a(t).getShaderInfoLog(a(n));var i=u(o)?0:h(o,r.__wbindgen_malloc,r.__wbindgen_realloc),_=l;w().setInt32(e+4,_,!0),w().setInt32(e+0,i,!0)},e.wbg.__wbg_getShaderParameter_e21fb00f8255b86b=function(e,t,n){return d(a(e).getShaderParameter(a(t),n>>>0))},e.wbg.__wbg_getSupportedExtensions_ae0473d2b21281af=function(e){const t=a(e).getSupportedExtensions();return u(t)?0:d(t)},e.wbg.__wbg_getUniformLocation_74149153bba4c4cb=function(e,t,n,r){const o=a(e).getUniformLocation(a(t),s(n,r));return u(o)?0:d(o)},e.wbg.__wbg_linkProgram_983c5972b815b0de=function(e,t){a(e).linkProgram(a(t))},e.wbg.__wbg_pixelStorei_1077f1f904f1a03d=function(e,t,n){a(e).pixelStorei(t>>>0,n)},e.wbg.__wbg_polygonOffset_1b4508ccdc143fe7=function(e,t,n){a(e).polygonOffset(t,n)},e.wbg.__wbg_renderbufferStorage_822379366751a4aa=function(e,t,n,r,o){a(e).renderbufferStorage(t>>>0,n>>>0,r,o)},e.wbg.__wbg_scissor_3cdd53b98aa49fb5=function(e,t,n,r,o){a(e).scissor(t,n,r,o)},e.wbg.__wbg_shaderSource_c36f18b5114855e7=function(e,t,n,r){a(e).shaderSource(a(t),s(n,r))},e.wbg.__wbg_stencilFuncSeparate_f70a2363259de010=function(e,t,n,r,o){a(e).stencilFuncSeparate(t>>>0,n>>>0,r,o>>>0)},e.wbg.__wbg_stencilMask_87e5dfdb3daacf5d=function(e,t){a(e).stencilMask(t>>>0)},e.wbg.__wbg_stencilMaskSeparate_03f10bfd58cf3e1e=function(e,t,n){a(e).stencilMaskSeparate(t>>>0,n>>>0)},e.wbg.__wbg_stencilOpSeparate_14c4ac8259d6ae13=function(e,t,n,r,o){a(e).stencilOpSeparate(t>>>0,n>>>0,r>>>0,o>>>0)},e.wbg.__wbg_texParameteri_a73df30f47a92fec=function(e,t,n,r){a(e).texParameteri(t>>>0,n>>>0,r)},e.wbg.__wbg_uniform1f_d2ba9f3d60c3859c=function(e,t,n){a(e).uniform1f(a(t),n)},e.wbg.__wbg_uniform1i_b7abcc7b3b4aee52=function(e,t,n){a(e).uniform1i(a(t),n)},e.wbg.__wbg_uniform4f_7e85e8eb9dff7886=function(e,t,n,r,o,i){a(e).uniform4f(a(t),n,r,o,i)},e.wbg.__wbg_useProgram_8232847dbf97643a=function(e,t){a(e).useProgram(a(t))},e.wbg.__wbg_vertexAttribPointer_f602d22ecb0758f6=function(e,t,n,r,o,i,_){a(e).vertexAttribPointer(t>>>0,n,r>>>0,0!==o,i,_)},e.wbg.__wbg_viewport_e333f63662d91f3a=function(e,t,n,r,o){a(e).viewport(t,n,r,o)},e.wbg.__wbg_instanceof_Window_6575cd7f1322f82f=function(e){let t;try{t=a(e)instanceof Window}catch(e){t=!1}return t},e.wbg.__wbg_document_d7fa2c739c2b191a=function(e){const t=a(e).document;return u(t)?0:d(t)},e.wbg.__wbg_performance_8efa15a3e0d18099=function(e){const t=a(e).performance;return u(t)?0:d(t)},e.wbg.__wbg_cancelAnimationFrame_f802bc3f3a9b2e5c=function(){return B((function(e,t){a(e).cancelAnimationFrame(t)}),arguments)},e.wbg.__wbg_requestAnimationFrame_8c3436f4ac89bc48=function(){return B((function(e,t){return a(e).requestAnimationFrame(a(t))}),arguments)},e.wbg.__wbg_querySelector_e4353fe90bee0601=function(){return B((function(e,t,n){const r=a(e).querySelector(s(t,n));return u(r)?0:d(r)}),arguments)},e.wbg.__wbg_bufferData_074e48650ef2dd18=function(e,t,n,r){a(e).bufferData(t>>>0,n,r>>>0)},e.wbg.__wbg_bufferData_11bf0e7b1bcebb55=function(e,t,n,r){a(e).bufferData(t>>>0,a(n),r>>>0)},e.wbg.__wbg_bufferSubData_75812ffb9c1cd1d4=function(e,t,n,r){a(e).bufferSubData(t>>>0,n,a(r))},e.wbg.__wbg_compressedTexSubImage2D_bd83f8f696b6d591=function(e,t,n,r,o,i,_,c,b){a(e).compressedTexSubImage2D(t>>>0,n,r,o,i,_,c>>>0,a(b))},e.wbg.__wbg_readPixels_4e84fb582bf012e3=function(){return B((function(e,t,n,r,o,i,_,c){a(e).readPixels(t,n,r,o,i>>>0,_>>>0,a(c))}),arguments)},e.wbg.__wbg_texSubImage2D_e784b7363b6c212d=function(){return B((function(e,t,n,r,o,i,_,c,b,f){a(e).texSubImage2D(t>>>0,n,r,o,i,_,c>>>0,b>>>0,a(f))}),arguments)},e.wbg.__wbg_uniform2fv_9a442fc12ac6908d=function(e,t,n,r){a(e).uniform2fv(a(t),E(n,r))},e.wbg.__wbg_uniform2iv_381ff23066f6a1b5=function(e,t,n,r){a(e).uniform2iv(a(t),T(n,r))},e.wbg.__wbg_uniform3fv_00fe7be94f38d819=function(e,t,n,r){a(e).uniform3fv(a(t),E(n,r))},e.wbg.__wbg_uniform3iv_2e1c0ab4a03ec4ce=function(e,t,n,r){a(e).uniform3iv(a(t),T(n,r))},e.wbg.__wbg_uniform4fv_a4022bbb233e7635=function(e,t,n,r){a(e).uniform4fv(a(t),E(n,r))},e.wbg.__wbg_uniform4iv_4d0ac6295a7128b4=function(e,t,n,r){a(e).uniform4iv(a(t),T(n,r))},e.wbg.__wbg_uniformMatrix2fv_d8a8d5939ca67037=function(e,t,n,r,o){a(e).uniformMatrix2fv(a(t),0!==n,E(r,o))},e.wbg.__wbg_uniformMatrix3fv_2e2aa0a9cc686289=function(e,t,n,r,o){a(e).uniformMatrix3fv(a(t),0!==n,E(r,o))},e.wbg.__wbg_uniformMatrix4fv_7c95912c063d4e2b=function(e,t,n,r,o){a(e).uniformMatrix4fv(a(t),0!==n,E(r,o))},e.wbg.__wbg_activeTexture_b0bb95e7b2c13666=function(e,t){a(e).activeTexture(t>>>0)},e.wbg.__wbg_attachShader_4a6cb7b86d7531b8=function(e,t,n){a(e).attachShader(a(t),a(n))},e.wbg.__wbg_bindBuffer_87bece1307f4836f=function(e,t,n){a(e).bindBuffer(t>>>0,a(n))},e.wbg.__wbg_bindFramebuffer_b9be4c8bf236f0e8=function(e,t,n){a(e).bindFramebuffer(t>>>0,a(n))},e.wbg.__wbg_bindRenderbuffer_c0813f918b791132=function(e,t,n){a(e).bindRenderbuffer(t>>>0,a(n))},e.wbg.__wbg_bindTexture_578ab0356afb56df=function(e,t,n){a(e).bindTexture(t>>>0,a(n))},e.wbg.__wbg_blendColor_edc626d0dcb0353d=function(e,t,n,r,o){a(e).blendColor(t,n,r,o)},e.wbg.__wbg_blendEquation_3d98c2e4520f67f0=function(e,t){a(e).blendEquation(t>>>0)},e.wbg.__wbg_blendEquationSeparate_4dba689f460b83c7=function(e,t,n){a(e).blendEquationSeparate(t>>>0,n>>>0)},e.wbg.__wbg_blendFunc_a0cad1569253dd9b=function(e,t,n){a(e).blendFunc(t>>>0,n>>>0)},e.wbg.__wbg_blendFuncSeparate_54734c3d5f7ec376=function(e,t,n,r,o){a(e).blendFuncSeparate(t>>>0,n>>>0,r>>>0,o>>>0)},e.wbg.__wbg_colorMask_f1fbf32fb9ff5f55=function(e,t,n,r,o){a(e).colorMask(0!==t,0!==n,0!==r,0!==o)},e.wbg.__wbg_compileShader_48a677cac607634b=function(e,t){a(e).compileShader(a(t))},e.wbg.__wbg_copyTexSubImage2D_c8c32f4ef2dc582d=function(e,t,n,r,o,i,_,c,b){a(e).copyTexSubImage2D(t>>>0,n,r,o,i,_,c,b)},e.wbg.__wbg_createBuffer_2f1b069b0fbe4db7=function(e){const t=a(e).createBuffer();return u(t)?0:d(t)},e.wbg.__wbg_createFramebuffer_982db8b568b3eca9=function(e){const t=a(e).createFramebuffer();return u(t)?0:d(t)},e.wbg.__wbg_createProgram_1510c4697aed8d2f=function(e){const t=a(e).createProgram();return u(t)?0:d(t)},e.wbg.__wbg_createRenderbuffer_99bf5d848bb24276=function(e){const t=a(e).createRenderbuffer();return u(t)?0:d(t)},e.wbg.__wbg_createShader_3edd95eb001d29c9=function(e,t){const n=a(e).createShader(t>>>0);return u(n)?0:d(n)},e.wbg.__wbg_createTexture_01a5bbc5d52164d2=function(e){const t=a(e).createTexture();return u(t)?0:d(t)},e.wbg.__wbg_cullFace_e6b0b54ef3b7307c=function(e,t){a(e).cullFace(t>>>0)},e.wbg.__wbg_deleteBuffer_2b49293fc295ccea=function(e,t){a(e).deleteBuffer(a(t))},e.wbg.__wbg_deleteFramebuffer_3b2693a1a495f793=function(e,t){a(e).deleteFramebuffer(a(t))},e.wbg.__wbg_deleteProgram_16d8257cfae7ddbe=function(e,t){a(e).deleteProgram(a(t))},e.wbg.__wbg_deleteRenderbuffer_b7ef144995140813=function(e,t){a(e).deleteRenderbuffer(a(t))},e.wbg.__wbg_deleteShader_a49077cc02f9d75c=function(e,t){a(e).deleteShader(a(t))},e.wbg.__wbg_deleteTexture_f72079e46289ccf8=function(e,t){a(e).deleteTexture(a(t))},e.wbg.__wbg_depthFunc_c3a66baecbd39fce=function(e,t){a(e).depthFunc(t>>>0)},e.wbg.__wbg_depthMask_621842c53eaaf9cb=function(e,t){a(e).depthMask(0!==t)},e.wbg.__wbg_depthRange_89d7e77aac8924b5=function(e,t,n){a(e).depthRange(t,n)},e.wbg.__wbg_disable_a342a9330a0cd452=function(e,t){a(e).disable(t>>>0)},e.wbg.__wbg_disableVertexAttribArray_636452904a337436=function(e,t){a(e).disableVertexAttribArray(t>>>0)},e.wbg.__wbg_drawArrays_bb3d6e0af7dcb469=function(e,t,n,r){a(e).drawArrays(t>>>0,n,r)},e.wbg.__wbg_enable_d120ad9b31220426=function(e,t){a(e).enable(t>>>0)},e.wbg.__wbg_enableVertexAttribArray_a12ed0a684959868=function(e,t){a(e).enableVertexAttribArray(t>>>0)},e.wbg.__wbg_framebufferRenderbuffer_a2b559ae4519abb6=function(e,t,n,r,o){a(e).framebufferRenderbuffer(t>>>0,n>>>0,r>>>0,a(o))},e.wbg.__wbg_framebufferTexture2D_8edd7a84454a0f67=function(e,t,n,r,o,i){a(e).framebufferTexture2D(t>>>0,n>>>0,r>>>0,a(o),i)},e.wbg.__wbg_frontFace_380eb97b8e84036d=function(e,t){a(e).frontFace(t>>>0)},e.wbg.__wbg_getActiveUniform_9e14802cc374efc6=function(e,t,n){const r=a(e).getActiveUniform(a(t),n>>>0);return u(r)?0:d(r)},e.wbg.__wbg_getParameter_21bd0c7970e3e51c=function(){return B((function(e,t){return d(a(e).getParameter(t>>>0))}),arguments)},e.wbg.__wbg_getProgramInfoLog_2ebf87ded3a93ef1=function(e,t,n){const o=a(t).getProgramInfoLog(a(n));var i=u(o)?0:h(o,r.__wbindgen_malloc,r.__wbindgen_realloc),_=l;w().setInt32(e+4,_,!0),w().setInt32(e+0,i,!0)},e.wbg.__wbg_getProgramParameter_2fc04fee21ea5036=function(e,t,n){return d(a(e).getProgramParameter(a(t),n>>>0))},e.wbg.__wbg_getShaderInfoLog_eabc357ae8803006=function(e,t,n){const o=a(t).getShaderInfoLog(a(n));var i=u(o)?0:h(o,r.__wbindgen_malloc,r.__wbindgen_realloc),_=l;w().setInt32(e+4,_,!0),w().setInt32(e+0,i,!0)},e.wbg.__wbg_getShaderParameter_e5207a499ce4b3a1=function(e,t,n){return d(a(e).getShaderParameter(a(t),n>>>0))},e.wbg.__wbg_getUniformLocation_f600c2277dd826b4=function(e,t,n,r){const o=a(e).getUniformLocation(a(t),s(n,r));return u(o)?0:d(o)},e.wbg.__wbg_linkProgram_b4246295077a3859=function(e,t){a(e).linkProgram(a(t))},e.wbg.__wbg_pixelStorei_86e41250cf27c77f=function(e,t,n){a(e).pixelStorei(t>>>0,n)},e.wbg.__wbg_polygonOffset_473b27921774b31d=function(e,t,n){a(e).polygonOffset(t,n)},e.wbg.__wbg_renderbufferStorage_cf618d17929fccad=function(e,t,n,r,o){a(e).renderbufferStorage(t>>>0,n>>>0,r,o)},e.wbg.__wbg_scissor_f1b8dd095e3fa77a=function(e,t,n,r,o){a(e).scissor(t,n,r,o)},e.wbg.__wbg_shaderSource_f8f569556926b597=function(e,t,n,r){a(e).shaderSource(a(t),s(n,r))},e.wbg.__wbg_stencilFuncSeparate_ce7a3a558108c580=function(e,t,n,r,o){a(e).stencilFuncSeparate(t>>>0,n>>>0,r,o>>>0)},e.wbg.__wbg_stencilMask_90c593098dd34f2c=function(e,t){a(e).stencilMask(t>>>0)},e.wbg.__wbg_stencilMaskSeparate_bc74c4776009bfc5=function(e,t,n){a(e).stencilMaskSeparate(t>>>0,n>>>0)},e.wbg.__wbg_stencilOpSeparate_86845a9132af3755=function(e,t,n,r,o){a(e).stencilOpSeparate(t>>>0,n>>>0,r>>>0,o>>>0)},e.wbg.__wbg_texParameteri_72793934be86cdcf=function(e,t,n,r){a(e).texParameteri(t>>>0,n>>>0,r)},e.wbg.__wbg_uniform1f_800970b4947e87c4=function(e,t,n){a(e).uniform1f(a(t),n)},e.wbg.__wbg_uniform1i_55c667a20431c589=function(e,t,n){a(e).uniform1i(a(t),n)},e.wbg.__wbg_uniform4f_13782133211399be=function(e,t,n,r,o,i){a(e).uniform4f(a(t),n,r,o,i)},e.wbg.__wbg_useProgram_0f0a7b123a5eba79=function(e,t){a(e).useProgram(a(t))},e.wbg.__wbg_vertexAttribPointer_6e1de5dfe082f820=function(e,t,n,r,o,i,_){a(e).vertexAttribPointer(t>>>0,n,r>>>0,0!==o,i,_)},e.wbg.__wbg_viewport_567a7a444dd3650b=function(e,t,n,r,o){a(e).viewport(t,n,r,o)},e.wbg.__wbg_instanceof_HtmlCanvasElement_022ad88c76df9031=function(e){let t;try{t=a(e)instanceof HTMLCanvasElement}catch(e){t=!1}return t},e.wbg.__wbg_width_cd62a064492c4489=function(e){return a(e).width},e.wbg.__wbg_setwidth_23bf2deedd907275=function(e,t){a(e).width=t>>>0},e.wbg.__wbg_height_f9f3ea69baf38ed4=function(e){return a(e).height},e.wbg.__wbg_setheight_239dc283bbe50da4=function(e,t){a(e).height=t>>>0},e.wbg.__wbg_getContext_cfe4caa91ffe938e=function(){return B((function(e,t,n,r){const o=a(e).getContext(s(t,n),a(r));return u(o)?0:d(o)}),arguments)},e.wbg.__wbg_width_3222ca0e491047f8=function(e){return a(e).width},e.wbg.__wbg_setwidth_e02ce7ae3e45c1b6=function(e,t){a(e).width=t>>>0},e.wbg.__wbg_height_ad067168e1893e7e=function(e){return a(e).height},e.wbg.__wbg_setheight_45e518143d1ca78f=function(e,t){a(e).height=t>>>0},e.wbg.__wbg_debug_a0b6c2c5ac9a4bfd=function(e,t,n,r){console.debug(a(e),a(t),a(n),a(r))},e.wbg.__wbg_error_53abcd6a461f73d8=function(e){console.error(a(e))},e.wbg.__wbg_error_4d17c5bb1ca90c94=function(e,t,n,r){console.error(a(e),a(t),a(n),a(r))},e.wbg.__wbg_info_1c7fba7da21072d1=function(e,t,n,r){console.info(a(e),a(t),a(n),a(r))},e.wbg.__wbg_log_f740dc2253ea759b=function(e){console.log(a(e))},e.wbg.__wbg_log_4de37a0274d94769=function(e,t,n,r){console.log(a(e),a(t),a(n),a(r))},e.wbg.__wbg_warn_2e2787d40aad9a81=function(e,t,n,r){console.warn(a(e),a(t),a(n),a(r))},e.wbg.__wbg_videoWidth_2cca108f1f2055da=function(e){return a(e).videoWidth},e.wbg.__wbg_videoHeight_d80fda4a200a84da=function(e){return a(e).videoHeight},e.wbg.__wbg_width_655495d54a5383b4=function(e){return a(e).width},e.wbg.__wbg_height_ad9c075afdac4ed7=function(e){return a(e).height},e.wbg.__wbg_now_d3cbc9581625f686=function(e){return a(e).now()},e.wbg.__wbg_size_eff10d9bc2faa54f=function(e){return a(e).size},e.wbg.__wbg_type_6ebd2907a0b6bed0=function(e){return a(e).type},e.wbg.__wbg_name_3ebc47cb2412f4aa=function(e,t){const n=h(a(t).name,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l;w().setInt32(e+4,o,!0),w().setInt32(e+0,n,!0)},e.wbg.__wbg_getSupportedProfiles_4e71d1eaf77f6211=function(e){const t=a(e).getSupportedProfiles();return u(t)?0:d(t)},e.wbg.__wbg_drawArraysInstancedANGLE_3b6ca9b052d4d8a2=function(e,t,n,r,o){a(e).drawArraysInstancedANGLE(t>>>0,n,r,o)},e.wbg.__wbg_drawElementsInstancedANGLE_c25bed1e47757546=function(e,t,n,r,o,i){a(e).drawElementsInstancedANGLE(t>>>0,n,r>>>0,o,i)},e.wbg.__wbg_vertexAttribDivisorANGLE_7b5fc471794338ce=function(e,t,n){a(e).vertexAttribDivisorANGLE(t>>>0,n>>>0)},e.wbg.__wbg_bindVertexArrayOES_f7ae803496f6f82f=function(e,t){a(e).bindVertexArrayOES(a(t))},e.wbg.__wbg_createVertexArrayOES_6e8273e64e878af6=function(e){const t=a(e).createVertexArrayOES();return u(t)?0:d(t)},e.wbg.__wbg_deleteVertexArrayOES_f24bf9fab17be367=function(e,t){a(e).deleteVertexArrayOES(a(t))},e.wbg.__wbg_framebufferTextureMultiviewOVR_7662ba7db516244e=function(e,t,n,r,o,i,_){a(e).framebufferTextureMultiviewOVR(t>>>0,n>>>0,a(r),o,i,_)},e.wbg.__wbg_drawBuffersWEBGL_d616b2870195ce8e=function(e,t){a(e).drawBuffersWEBGL(a(t))},e.wbg.__wbg_get_5419cf6b954aa11d=function(e,t){return d(a(e)[t>>>0])},e.wbg.__wbg_length_f217bbbf7e8e4df4=function(e){return a(e).length},e.wbg.__wbg_new_034f913e7636e987=function(){return d(new Array)},e.wbg.__wbg_newnoargs_1ede4bf2ebbaaf43=function(e,t){return d(new Function(s(e,t)))},e.wbg.__wbg_next_13b477da1eaa3897=function(e){return d(a(e).next)},e.wbg.__wbg_next_b06e115d1b01e10b=function(){return B((function(e){return d(a(e).next())}),arguments)},e.wbg.__wbg_done_983b5ffcaec8c583=function(e){return a(e).done},e.wbg.__wbg_value_2ab8a198c834c26a=function(e){return d(a(e).value)},e.wbg.__wbg_iterator_695d699a44d6234c=function(){return d(Symbol.iterator)},e.wbg.__wbg_get_ef828680c64da212=function(){return B((function(e,t){return d(Reflect.get(a(e),a(t)))}),arguments)},e.wbg.__wbg_call_a9ef466721e824f2=function(){return B((function(e,t){return d(a(e).call(a(t)))}),arguments)},e.wbg.__wbg_new_e69b5f66fda8f13c=function(){return d(new Object)},e.wbg.__wbg_self_bf91bf94d9e04084=function(){return B((function(){return d(self.self)}),arguments)},e.wbg.__wbg_window_52dd9f07d03fd5f8=function(){return B((function(){return d(window.window)}),arguments)},e.wbg.__wbg_globalThis_05c129bf37fcf1be=function(){return B((function(){return d(globalThis.globalThis)}),arguments)},e.wbg.__wbg_global_3eca19bb09e9c484=function(){return B((function(){return d(global.global)}),arguments)},e.wbg.__wbg_includes_2d453f0c8f71a0e8=function(e,t,n){return a(e).includes(a(t),n)},e.wbg.__wbg_isArray_6f3b47f09adb61b5=function(e){return Array.isArray(a(e))},e.wbg.__wbg_of_064d1507296514c2=function(e){return d(Array.of(a(e)))},e.wbg.__wbg_push_36cf4d81d7da33d1=function(e,t){return a(e).push(a(t))},e.wbg.__wbg_instanceof_ArrayBuffer_74945570b4a62ec7=function(e){let t;try{t=a(e)instanceof ArrayBuffer}catch(e){t=!1}return t},e.wbg.__wbg_call_3bfa248576352471=function(){return B((function(e,t,n){return d(a(e).call(a(t),a(n)))}),arguments)},e.wbg.__wbg_isSafeInteger_b9dff570f01a9100=function(e){return Number.isSafeInteger(a(e))},e.wbg.__wbg_is_4b64bc96710d6a0f=function(e,t){return Object.is(a(e),a(t))},e.wbg.__wbg_new_1073970097e5a420=function(e,t){try{var n={a:e,b:t};const o=new Promise(((e,t)=>{const o=n.a;n.a=0;try{return function(e,t,n,o){r.wasm_bindgen__convert__closures__invoke2_mut__h0c52004460763410(e,t,d(n),d(o))}(o,n.b,e,t)}finally{n.a=o}}));return d(o)}finally{n.a=n.b=0}},e.wbg.__wbg_resolve_0aad7c1484731c99=function(e){return d(Promise.resolve(a(e)))},e.wbg.__wbg_then_748f75edfb032440=function(e,t){return d(a(e).then(a(t)))},e.wbg.__wbg_buffer_ccaed51a635d8a2d=function(e){return d(a(e).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_a477014f6b279082=function(e,t,n){return d(new Int8Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_newwithbyteoffsetandlength_2162229fb032f49b=function(e,t,n){return d(new Int16Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_newwithbyteoffsetandlength_98f18acc088b651f=function(e,t,n){return d(new Int32Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_newwithbyteoffsetandlength_7e3eb787208af730=function(e,t,n){return d(new Uint8Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_new_fec2611eb9180f95=function(e){return d(new Uint8Array(a(e)))},e.wbg.__wbg_set_ec2fcf81bc573fd9=function(e,t,n){a(e).set(a(t),n>>>0)},e.wbg.__wbg_length_9254c4bd3b9f23c4=function(e){return a(e).length},e.wbg.__wbg_newwithbyteoffsetandlength_e74b33a1f7565139=function(e,t,n){return d(new Uint16Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_newwithbyteoffsetandlength_5f67057565ba35bf=function(e,t,n){return d(new Uint32Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_newwithbyteoffsetandlength_fc445c2d308275d0=function(e,t,n){return d(new Float32Array(a(e),t>>>0,n>>>0))},e.wbg.__wbg_instanceof_Uint8Array_df0761410414ef36=function(e){let t;try{t=a(e)instanceof Uint8Array}catch(e){t=!1}return t},e.wbg.__wbg_set_e864d25d9b399c9f=function(){return B((function(e,t,n){return Reflect.set(a(e),a(t),a(n))}),arguments)},e.wbg.__wbindgen_bigint_get_as_i64=function(e,t){const n=a(t),r="bigint"==typeof n?n:void 0;w().setBigInt64(e+8,u(r)?BigInt(0):r,!0),w().setInt32(e+0,!u(r),!0)},e.wbg.__wbindgen_debug_string=function(e,t){const n=h(y(a(t)),r.__wbindgen_malloc,r.__wbindgen_realloc),o=l;w().setInt32(e+4,o,!0),w().setInt32(e+0,n,!0)},e.wbg.__wbindgen_throw=function(e,t){throw new Error(s(e,t))},e.wbg.__wbindgen_memory=function(){return d(r.memory)},e.wbg.__wbindgen_closure_wrapper425=function(e,t,n){return d(v(e,t,43,S))},e.wbg.__wbindgen_closure_wrapper477=function(e,t,n){return d(v(e,t,56,I))},e}function U(e,t){return r=e.exports,q.__wbindgen_wasm_module=t,g=null,D=null,R=null,P=null,b=null,r.__wbindgen_start(),r}function j(e){if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module:e}=e):console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=C();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),U(new WebAssembly.Instance(e,t),e)}async function q(e){if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module_or_path:e}=e):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL(n(413),n.b));const t=C();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:o,module:a}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return U(o,a)}const V=q}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href;var r,o,a,i=n(218);async function _(){console.log("🔍 Starting WASM verification...");try{await(0,i.default)();const e=Object.keys(await Promise.resolve().then(n.bind(n,218)));console.log("📦 WASM Exports:",e);const t=640,r=480;console.log(`Creating new IMF decoder with dimensions ${t}x${r}`);const o=new i.IMFDecoder(t,r),a=Object.getOwnPropertyNames(i.IMFDecoder.prototype);console.log("🔧 IMFDecoder Methods:",a);const _=o.test();if(console.log("🧪 Test method output:",_),console.log("IMFDecoder instance:",o),!_.includes("IMFDecoder working!"))throw new Error("Decoder test failed");return console.log("✅ WASM verification successful!"),{success:!0,decoder:o}}catch(e){return console.error("❌ WASM verification failed:",e),{success:!1,error:e instanceof Error?e:new Error("Unknown error")}}}async function c(){try{console.log("🔍 Starting WASM verification...");const{success:e,module:t,decoder:n,error:r}=await _();if(!e||!n)return console.error("Failed to initialize decoder:",r),void(r?.stack&&console.error("Stack:",r.stack));console.log("IMFDecoder instance:",n),console.log("✅ WASM verification successful!"),window.decoder=n,window.wasm=t,await async function(e){try{console.log("Available methods:",Object.getOwnPropertyNames(i.IMFDecoder.prototype));const t=e.test();if(console.log("Initial test:",t),console.log("Setting diagnostic mode..."),e.diagnostic_mode=!0,console.log("Diagnostic mode set to:",e.diagnostic_mode),!e.diagnostic_mode)throw new Error("Failed to set diagnostic mode");console.log("Diagnostic mode is now:",e.diagnostic_mode),console.log("Setting reference data...");const n={features:[{tensor:new Float32Array(524288).fill(.5),shape:[1,128,64,64]},{tensor:new Float32Array(262144).fill(.5),shape:[1,256,32,32]},{tensor:new Float32Array(131072).fill(.5),shape:[1,512,16,16]},{tensor:new Float32Array(32768).fill(.5),shape:[1,512,8,8]}],token:new Float32Array(32).fill(.1)},r=await e.set_reference_data(n);console.log("Set reference data result:",r),console.log("Processing tokens...");const o=new Float32Array(1228800).fill(.5);if("function"!=typeof e.process_tokens)throw new Error("process_tokens method not found on decoder");return console.log("process_tokens exists:",typeof e.process_tokens),await e.process_tokens([{token:o,frame_index:0}]),await e.process_batch(),{success:!0,message:"All decoder tests completed successfully"}}catch(e){return console.error("Error processing tokens:",e),console.error("Stack:",e),console.error("Test sequence failed:",e),{success:!1,error:e instanceof Error?e.message:String(e)}}}(n),console.log("IMFDecoder initialized successfully")}catch(e){console.error("Failed to initialize decoder:",e),e instanceof Error&&console.error("Stack:",e.stack);try{const e=await Promise.resolve().then(n.bind(n,218));await(0,i.default)(),console.log("📦 WASM Exports:",Object.keys(e))}catch(e){console.error("Failed to import WASM module:",e)}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c(),function(e){e[e.Idle=0]="Idle",e[e.Ready=1]="Ready",e[e.Playing=2]="Playing",e[e.Pause=3]="Pause",e[e.Destroyed=4]="Destroyed"}(r||(r={})),function(e){e[e.Idle=0]="Idle",e[e.Initializing=1]="Initializing",e[e.Ready=2]="Ready",e[e.Open=3]="Open",e[e.Pause=4]="Pause",e[e.Closed=5]="Closed"}(o||(o={})),function(e){e.DecoderInit="DecoderInit",e.DecoderInited="DecoderInited",e.ProcessFrame="ProcessFrame",e.FrameProcessed="FrameProcessed",e.UpdateRenderPass="UpdateRenderPass",e.DecoderError="DecoderError",e.DecoderRecovered="DecoderRecovered",e.DecoderMetrics="DecoderMetrics",e.DecoderCreated="DecoderCreated",e.WasmLoaded="WasmLoaded",e.DecoderReady="DecoderReady",e.ReferenceDataSet="ReferenceDataSet",e.TokensProcessed="TokensProcessed",e.BatchProcessed="BatchProcessed",e.Error="Error"}(a||(a={}));class b{constructor(){this.decoder=null,this.playerStatus=r.Idle,this.decoderStatus=o.Idle,this.animationFrameId=null,this.frameCount=0,this.canvas=null,this.setupLayout(),this.initializeElements(),this.setupEventListeners(),this.setupCanvas()}setupLayout(){document.body.innerHTML='\n            <div class="container">\n                <div class="left-panel">\n                    <h1>IMF Decoder Test</h1>\n                    <div class="status-panel">\n                        <div class="status-item">\n                            <span class="status-label">Player Status:</span>\n                            <span id="player-status" class="status-value status-idle">Idle</span>\n                        </div>\n                        <div class="status-item">\n                            <span class="status-label">Decoder Status:</span>\n                            <span id="decoder-status" class="status-value status-idle">Idle</span>\n                        </div>\n                    </div>\n                    <canvas id="decoder-canvas"></canvas>\n                    <div class="button-group">\n                        <button id="verifyWasm">Verify WASM</button>\n                        <button id="initDecoder" disabled>Initialize Decoder</button>\n                        <button id="startDecoder" disabled>Start Decoder</button>\n                        <button id="processFrame" disabled>Process Frame</button>\n                        <button id="pauseDecoder" disabled>Pause Decoder</button>\n                        <button id="clearLog">Clear Log</button>\n                    </div>\n                </div>\n                <div class="right-panel">\n                    <div class="log-header">\n                        <h2>Decoder Log</h2>\n                    </div>\n                    <div id="log" class="log-content"></div>\n                </div>\n            </div>\n        ';const e=document.createElement("style");e.textContent="\n            .container {\n                display: flex;\n                gap: 20px;\n                padding: 20px;\n                max-width: 1400px;\n                margin: 0 auto;\n                height: calc(100vh - 40px);\n            }\n\n            .left-panel {\n                flex: 1;\n                min-width: 400px;\n                display: flex;\n                flex-direction: column;\n                gap: 20px;\n            }\n\n            .right-panel {\n                flex: 1;\n                min-width: 400px;\n                display: flex;\n                flex-direction: column;\n                border-left: 1px solid #ccc;\n                padding-left: 20px;\n            }\n\n            .status-panel {\n                background: #f8f9fa;\n                padding: 15px;\n                border-radius: 8px;\n                box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n            }\n\n            .status-item {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                margin-bottom: 10px;\n            }\n\n            .status-label {\n                font-weight: bold;\n            }\n\n            .status-value {\n                padding: 4px 12px;\n                border-radius: 12px;\n                font-size: 14px;\n            }\n\n            .status-idle { background: #ffd700; }\n            .status-ready { background: #90ee90; }\n            .status-playing { background: #87ceeb; }\n            .status-paused { background: #ffb6c1; }\n\n            #decoder-canvas {\n                width: 100%;\n                max-width: 640px;\n                height: auto;\n                border: 1px solid #ccc;\n                border-radius: 4px;\n                margin: 0 auto;\n            }\n\n            .button-group {\n                display: grid;\n                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n                gap: 10px;\n            }\n\n            button {\n                padding: 10px;\n                border: none;\n                border-radius: 4px;\n                background: #4285f4;\n                color: white;\n                cursor: pointer;\n                transition: background 0.2s;\n            }\n\n            button:hover:not(:disabled) {\n                background: #3367d6;\n            }\n\n            button:disabled {\n                background: #ccc;\n                cursor: not-allowed;\n            }\n\n            .log-header {\n                padding: 10px 0;\n                border-bottom: 1px solid #eee;\n                margin-bottom: 10px;\n            }\n\n            .log-content {\n                flex: 1;\n                overflow-y: auto;\n                background: #f8f9fa;\n                padding: 10px;\n                border-radius: 4px;\n                font-family: monospace;\n                font-size: 13px;\n                line-height: 1.5;\n            }\n\n            .info { color: #4285f4; }\n            .error { color: #dc3545; }\n            .success { color: #28a745; }\n\n            h1, h2 {\n                margin: 0 0 20px 0;\n                color: #333;\n            }\n        ",document.head.appendChild(e),this.canvas=document.getElementById("decoder-canvas"),this.canvas&&(this.canvas.width=640,this.canvas.height=480)}async checkWebGPUSupport(){if(!navigator.gpu)return this.log("error","WebGPU is not supported in this browser"),!1;try{const e=await navigator.gpu.requestAdapter({powerPreference:"high-performance"});return e?await e.requestDevice()?(this.log("success","WebGPU is supported and initialized"),!0):(this.log("error","Failed to get WebGPU device"),!1):(this.log("error","No WebGPU adapter found"),!1)}catch(e){return this.log("error",`WebGPU initialization failed: ${e}`),!1}}setupCanvas(){this.canvas=document.createElement("canvas"),this.canvas.width=640,this.canvas.height=480,this.canvas.style.border="1px solid #ccc";const e=document.querySelector(".status-panel");e&&e.parentNode&&e.parentNode.insertBefore(this.canvas,e.nextSibling);const t=document.createElement("style");t.textContent="\n            canvas {\n                display: block;\n                margin: 20px auto;\n                max-width: 100%;\n                height: auto;\n            }\n        ",document.head.appendChild(t)}initializeElements(){const e=document.getElementById("verifyWasm"),t=document.getElementById("initDecoder"),n=document.getElementById("startDecoder"),r=document.getElementById("processFrame"),o=document.getElementById("pauseDecoder"),a=document.getElementById("clearLog"),i=document.getElementById("player-status"),_=document.getElementById("decoder-status");if(!(e&&t&&n&&r&&o&&a&&i&&_))throw new Error("Required DOM elements not found");this.buttons={verify:e,init:t,start:n,process:r,pause:o,clear:a},this.statusElements={player:i,decoder:_}}interceptConsole(){const e=console.log,t=console.error,n=console.warn;console.log=(...t)=>{this.log("info",...t),e.apply(console,t)},console.error=(...e)=>{this.log("error",...e),t.apply(console,e)},console.warn=(...e)=>{this.log("info",...e),n.apply(console,e)}}setupEventListeners(){this.buttons.verify.onclick=()=>this.verifyWasm(),this.buttons.init.onclick=()=>this.initializeDecoder(),this.buttons.start.onclick=()=>this.startDecoder(),this.buttons.process.onclick=()=>this.processFrame(),this.buttons.pause.onclick=()=>this.pauseDecoder(),this.buttons.clear.onclick=()=>this.clearLog()}updateStatus(e,t){const n=this.statusElements[e],a=("player"===e?r:o)[t];switch(n.className="status-value",t){case 0:n.classList.add("status-idle");break;case 1:n.classList.add("status-ready");break;case 2:n.classList.add("status-playing");break;case 3:n.classList.add("status-paused");break;default:n.classList.add("status-error")}n.textContent=a}async verifyWasm(){try{this.buttons.verify.disabled=!0,this.log("info","Verifying WASM...");const e=await _();e.success&&e.decoder?(this.decoder=e.decoder,this.buttons.init.disabled=!1,this.updateStatus("player",r.Ready),this.log("success","WASM verification successful!")):(this.updateStatus("player",r.Idle),this.log("error","WASM verification failed!"))}catch(e){this.log("error",`Error: ${e.message}`),this.updateStatus("player",r.Idle)}finally{this.buttons.verify.disabled=!1}}async initializeDecoder(){try{if(this.buttons.init.disabled=!0,this.updateStatus("decoder",o.Initializing),!this.decoder||!this.canvas)throw new Error("Decoder or canvas not initialized");if(!await this.checkWebGPUSupport())throw new Error("WebGPU not supported or failed to initialize");this.canvas.width=640,this.canvas.height=480;const e=this.createReferenceData(),t=await this.decoder.set_reference_data(e);this.log("info",`Reference data set: ${t}`);try{const e=await this.decoder.initialize_render_context(this.canvas);this.log("info",`Render context initialized: ${e}`)}catch(e){throw new Error(`WebGPU context initialization failed: ${e}`)}if(!(await this.decoder.get_status()).initialized)throw new Error("Decoder initialization incomplete");this.buttons.start.disabled=!1,this.updateStatus("decoder",o.Ready),this.log("success","Decoder initialized successfully")}catch(e){const t=e instanceof Error?e.message:String(e);this.log("error",`Initialization error: ${t}`),this.updateStatus("decoder",o.Idle)}finally{this.buttons.init.disabled=!1}}async processFrame(){if(this.decoder)try{const e={token:new Float32Array(1228800).fill(.5),frame_index:this.frameCount++};this.log("info",`Processing frame ${e.frame_index}`);const t=await this.decoder.process_tokens([e]);this.log("info",t);const n=await this.decoder.process_batch();this.log("success",`Batch processed: ${n}`)}catch(e){const t=e instanceof Error?e.message:String(e);this.log("error",`Process error: ${t}`)}}async startDecoderLoop(){if(this.decoder&&this.canvas)try{if(!(await this.decoder.get_status()).initialized)throw new Error("Render context not initialized");await this.decoder.start_player_loop(),this.updateStatus("decoder",o.Playing),this.log("success","Decoder loop started"),this.processFrame()}catch(e){const t=e instanceof Error?e.message:String(e);this.log("error",`Start error: ${t}`),this.updateStatus("decoder",o.Ready)}}async startDecoder(){try{if(this.buttons.start.disabled=!0,this.updateStatus("decoder",o.Open),!this.decoder)throw new Error("Decoder not initialized");if(!(await this.decoder.get_status()).initialized)throw new Error("Render context not initialized");await this.decoder.start_player_loop(),this.buttons.process.disabled=!1,this.buttons.pause.disabled=!1,this.startDecoderLoop(),this.log("success","Decoder started")}catch(e){this.log("error",`Start error: ${e.message}`),this.updateStatus("decoder",o.Ready)}}async pauseDecoder(){try{this.updateStatus("decoder",o.Pause),null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.decoder&&this.decoder.stop_player_loop(),this.buttons.process.disabled=!0,this.buttons.pause.disabled=!0,this.buttons.start.disabled=!1,this.log("info","Decoder paused")}catch(e){this.log("error",`Pause error: ${e.message}`)}}createReferenceData(){return{features:[{tensor:new Float32Array(524288).fill(.5),shape:[1,128,64,64]},{tensor:new Float32Array(262144).fill(.5),shape:[1,256,32,32]},{tensor:new Float32Array(131072).fill(.5),shape:[1,512,16,16]},{tensor:new Float32Array(32768).fill(.5),shape:[1,512,8,8]}],token:new Float32Array(32).fill(.1)}}log(e,...t){const n=document.getElementById("log"),r=document.createElement("div");r.className=e,r.textContent=t.map((e=>"object"==typeof e?JSON.stringify(e):String(e))).join(" "),n.appendChild(r),n.scrollTop=n.scrollHeight}clearLog(){document.getElementById("log").innerHTML=""}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>new b)):new b})();